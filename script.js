const imageList = [
    "https://risibank.fr/cache/medias/0/0/2/224/thumb.png",
    "https://risibank.fr/cache/medias/0/0/0/2/thumb.png",
    "https://risibank.fr/cache/medias/0/1/136/13653/thumb.png",
    "https://risibank.fr/cache/medias/0/9/902/90215/thumb.png",
    "https://risibank.fr/cache/medias/0/7/717/71734/thumb.png",
    "https://risibank.fr/cache/medias/0/4/456/45638/thumb.png",
    "https://risibank.fr/cache/medias/0/25/2503/250332/thumb.png",
    "https://risibank.fr/cache/medias/0/7/717/71742/thumb.png",
    "https://risibank.fr/cache/medias/0/4/455/45568/thumb.png",
    "https://risibank.fr/cache/medias/0/4/455/45582/thumb.png",
    "https://risibank.fr/cache/medias/0/1/158/15888/thumb.png",
    "https://risibank.fr/cache/medias/0/3/325/32573/thumb.png",
    "https://risibank.fr/cache/medias/0/0/51/5182/thumb.png",
    "https://risibank.fr/cache/medias/0/2/239/23927/thumb.png",
    "https://risibank.fr/cache/medias/0/14/1468/146854/full.png",
    "https://risibank.fr/cache/medias/0/28/2844/284448/thumb.png",
    "https://risibank.fr/cache/medias/0/1/136/13653/thumb.png",
    "https://risibank.fr/cache/medias/0/10/1038/103818/full.gif",
    "https://risibank.fr/cache/medias/0/0/0/12/thumb.gif",
    "https://risibank.fr/cache/medias/0/3/325/32581/thumb.png",
    "https://risibank.fr/cache/medias/0/0/6/619/thumb.gif",
    "https://risibank.fr/cache/medias/0/1/160/16039/thumb.png",
    "https://risibank.fr/cache/medias/0/0/25/2500/thumb.gif",
    "https://risibank.fr/cache/medias/0/0/67/6754/thumb.png",
    "https://risibank.fr/cache/medias/0/1/190/19055/thumb.gif",
    "https://risibank.fr/cache/medias/0/24/2403/240375/thumb.png",
    "https://risibank.fr/cache/medias/0/0/0/79/thumb.gif",
    "https://risibank.fr/cache/medias/0/1/182/18212/thumb.gif",
    "https://risibank.fr/cache/medias/0/0/25/2500/thumb.gif",
    "https://risibank.fr/cache/medias/0/3/325/32567/thumb.gif",
    "https://risibank.fr/cache/medias/0/0/0/14/thumb.gif",
    "https://risibank.fr/cache/medias/0/0/7/702/thumb.gif",
    "https://risibank.fr/cache/medias/0/0/7/700/thumb.gif",
    "https://risibank.fr/cache/medias/0/1/134/13495/thumb.gif",
    "https://risibank.fr/cache/medias/0/0/16/1612/thumb.gif",
    "https://risibank.fr/cache/medias/0/23/2319/231942/thumb.gif",
    "https://risibank.fr/cache/medias/0/23/2383/238399/thumb.gif",
    "https://risibank.fr/cache/medias/0/0/91/9151/thumb.gif",
    "https://risibank.fr/cache/medias/0/0/0/89/thumb.png",
    "https://risibank.fr/cache/medias/0/0/27/2786/thumb.png",
    "https://risibank.fr/cache/medias/0/0/91/9149/thumb.png",
    "https://risibank.fr/cache/medias/0/22/2217/221707/thumb.png",
    "https://risibank.fr/cache/medias/0/0/0/79/thumb.gif",
    "https://risibank.fr/cache/medias/0/11/1190/119000/thumb.png",
    "https://risibank.fr/cache/medias/0/2/239/23942/thumb.png",
    "https://risibank.fr/cache/medias/0/3/325/32567/thumb.gif",
    "https://risibank.fr/cache/medias/0/3/325/32581/thumb.png",
    "https://risibank.fr/cache/medias/0/1/194/19488/thumb.png",
    "https://risibank.fr/cache/medias/0/19/1991/199169/thumb.png",
    "https://risibank.fr/cache/medias/0/7/717/71732/thumb.png",
    "https://risibank.fr/cache/medias/0/1/184/18474/thumb.png",
    "https://risibank.fr/cache/medias/0/21/2181/218180/thumb.png",
    "https://risibank.fr/cache/medias/0/21/2171/217125/thumb.png",
    "https://risibank.fr/cache/medias/0/0/26/2656/thumb.jpeg",
    "https://risibank.fr/cache/medias/0/27/2756/275621/thumb.png",
    "https://risibank.fr/cache/medias/0/23/2333/233352/thumb.png",
    "https://risibank.fr/cache/medias/0/3/325/32582/thumb.png",
    "https://risibank.fr/cache/medias/0/2/207/20760/thumb.png",
    "https://risibank.fr/cache/medias/0/0/5/563/thumb.png",
    "https://risibank.fr/cache/medias/0/3/325/32571/thumb.png",
    "https://risibank.fr/cache/medias/0/6/683/68355/thumb.png",
    "https://risibank.fr/cache/medias/0/28/2856/285674/thumb.png",
    "https://risibank.fr/cache/medias/0/1/180/18013/thumb.png",
    "https://risibank.fr/cache/medias/0/1/192/19268/thumb.png",
    "https://risibank.fr/cache/medias/0/5/533/53302/thumb.png",
    "https://risibank.fr/cache/medias/0/0/24/2409/thumb.png",
    "https://risibank.fr/cache/medias/0/0/67/6728/thumb.png",
    "https://risibank.fr/cache/medias/0/1/100/10048/thumb.png",
    "https://risibank.fr/cache/medias/0/3/341/34140/thumb.png",
    "https://risibank.fr/cache/medias/0/2/236/23633/thumb.png",
    "https://risibank.fr/cache/medias/0/0/2/286/thumb.png",
    "https://risibank.fr/cache/medias/0/0/7/717/thumb.png",
    "https://risibank.fr/cache/medias/0/0/32/3253/thumb.png",
    "https://risibank.fr/cache/medias/0/1/141/14144/thumb.png",
    "https://risibank.fr/cache/medias/0/0/25/2500/thumb.gif",
    "https://risibank.fr/cache/medias/0/2/239/23984/thumb.png",
    "https://risibank.fr/cache/medias/0/0/16/1693/thumb.png",
    "https://risibank.fr/cache/medias/0/0/51/5163/thumb.png",
    "https://risibank.fr/cache/medias/0/28/2855/285599/thumb.png",
    "https://risibank.fr/cache/medias/0/0/71/7158/thumb.png",
    "https://risibank.fr/cache/medias/0/1/182/18212/thumb.gif",
    "https://risibank.fr/cache/medias/0/27/2779/277970/thumb.jpeg",
    "https://risibank.fr/cache/medias/0/1/144/14429/thumb.png",
    "https://risibank.fr/cache/medias/0/1/192/19218/thumb.png",
    "https://risibank.fr/cache/medias/0/13/1313/131315/thumb.png",
    "https://risibank.fr/cache/medias/0/2/219/21921/thumb.png",
    "https://risibank.fr/cache/medias/0/1/196/19682/thumb.png",
    "https://risibank.fr/cache/medias/0/24/2411/241131/thumb.png",
    "https://risibank.fr/cache/medias/0/0/4/443/thumb.png",
    "https://risibank.fr/cache/medias/0/7/760/76072/thumb.png",
    "https://risibank.fr/cache/medias/0/1/160/16039/thumb.png",
    "https://risibank.fr/cache/medias/0/26/2689/268969/thumb.png",
    "https://risibank.fr/cache/medias/0/1/132/13290/thumb.png",
    "https://risibank.fr/cache/medias/0/6/683/68361/thumb.png"
];

// Fonction pour mélanger un tableau (algorithme de Fisher-Yates)
function shuffleArray(arr) {
    for (let i = arr.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [arr[i], arr[j]] = [arr[j], arr[i]]; // Échange les éléments
    }
    return arr;
}

// Fonction pour ajouter des images aléatoires à un carrousel
function addImagesToCarousel(container, numImages = 21) {
    const shuffledImages = shuffleArray([...imageList]);  // Mélanger les images
    const images = shuffledImages.slice(0, numImages);     // Sélectionner les premières images après le mélange

    images.forEach(imageURL => {
        const imgElement = document.createElement('img');
        imgElement.src = imageURL;
        imgElement.classList.add('carousel-image');
        container.querySelector('.carousel').appendChild(imgElement);
    });
}

// Appliquer le mélange d'images aux carrousels
document.querySelectorAll('.carousel-container').forEach((container) => {
    addImagesToCarousel(container); // Ajouter des images aléatoires au carrousel

    let images = container.querySelectorAll('.carousel-image');
    let currentIndex = 0;
    let totalImages = images.length;
  
    if (totalImages === 0) {
        console.error('Aucune image trouvée pour le carousel.');
        return;
    }
  
    // Affiche la première image au chargement
    images[currentIndex].classList.add('active');
  
    function showImage(index) {
        images.forEach((img, i) => {
            img.classList.remove('active');
            if (i === index) {
                img.classList.add('active');
                console.log(`Affichage de l'image : ${img.src}`);
            }
        });
    }
  
    // Navigation avec les boutons
    container.querySelector('.next').addEventListener('click', () => {
        currentIndex = (currentIndex + 1) % totalImages;
        showImage(currentIndex);
    });
  
    container.querySelector('.prev').addEventListener('click', () => {
        currentIndex = (currentIndex - 1 + totalImages) % totalImages;
        showImage(currentIndex);
    });
  
    // Défilement automatique toutes les 5 secondes
    setInterval(() => {
        currentIndex = (currentIndex + 1) % totalImages;
        showImage(currentIndex);
    }, 5000);
});
